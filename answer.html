<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MentorLoop | Answer Question</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f3f4f6;
      padding: 30px;
    }
    form {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      padding: 10px;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Answer the Question</h1>

<p><strong>Question:</strong> <span id="questionText"></span></p>

<form onsubmit="submitAnswer(event)">
  <textarea required placeholder="Write your answer here..."></textarea>
  <button type="submit">Submit Answer</button>
</form>

<script>
  // Read topic from URL
  const params = new URLSearchParams(window.location.search);
  const topic = params.get("topic");

  // Map topics to questions
  const questions = {
    "linear-equations": "How do I solve linear equations with fractions?",
    "photosynthesis": "Explain photosynthesis in simple words."
  };

  // Set the question text
  document.getElementById("questionText").textContent =
    questions[topic] || "Answer the question.";

  function submitAnswer(e) {
    e.preventDefault();

    // Award points for helping another student
    let points = localStorage.getItem("mentorloop_points")
      ? parseInt(localStorage.getItem("mentorloop_points"))
      : 40;

    points += 10;
    localStorage.setItem("mentorloop_points", points);

    alert("Answer submitted! +10 points earned ðŸŽ‰");

    window.location.href = "dashboard.html";
  }
</script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDsHwrmeZyI9zNpoI86OQz1eBSIFxv6j1I",
    authDomain: "mentorloop-edu.firebaseapp.com",
    projectId: "mentorloop-edu",
    storageBucket: "mentorloop-edu.appspot.com",
    messagingSenderId: "314688209644",
    appId: "1:314688209644:web:b8fa243642971947969bc9"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.db = db;
</script>

</body>
</html>


